// 再読み込み時にページの情報を保存する変数（JSON形式）
// 配列の中に連想配列として保存 [{}]
// 例
// jsonObj = {
//	slide:[{src:画像のURL,zIndex:1}],
//	questions:[{
//			   id:フォームのid,
//			   slideIndex:セットされているスライドのid,
//			   qfn:1,
//			   spinner:選択肢の数,
//			   question:{top:ラジオボタンの座標,left:ラジオボタンの座標},
//			   submit:{top:送信ボタンの座標,left:送信ボタンの座標}
//			   }],
//	comments:[{
//			  id:フォームのid,
//			  slideIndex:セットされているスライドのid,
//			  cfn:1,
//			  opinion:{top:ラジオボタンの座標,left:ラジオボタンの座標},
//			  comment:{top:テキストエリアの座標,left:テキストエリアの座標},
//			  submit:{top:送信ボタンの座標,left:送信ボタンの座標}
//			  }]
// }
// 保存されたデータをファイルとして出力するプログラムが必要
var jsonObj = {
	slide:[],
	questions:[],
	comments:[],
};
function reload(jsonData){
	var slide = jsonData["slide"];
	var questions = jsonData["questions"];
	var comments = jsonData["comments"];

	jsonObj = jsonData;

	// slideのリストが空でなければ保存されている情報からスライドを復元する
	if(slide.length != 0){
		for(var i=0;i<slide.length;i++){
			var src = slide[i]["src"];
			var zIndex = slide[i]["zIndex"];
			slideReload(src,zIndex);
		}
	}
	// questionsのリストが空でなければ保存されている座標情報からアンケートフォームを復元する
	if(questions.length != 0){
		for(var i=0;i<questions.length;i++){
			var left = questions[i]["question"]["left"];
			var top = questions[i]["question"]["top"];
			var spinner = questions[i]["spinner"];
			var id = questions[i]["id"];
			var slideIndex = questions[i]["slideIndex"];
			if(slideIndex != "undefined"){
				slideIdAndFormId[slideIndex]=id;
			}
			createQuestion(spinner,left,top,true);
		}
	}
	// commentsのリストが空でなければ保存されている座標情報から感想フォームを復元する
	if(comments.length != 0){
		for(var i=0;i<comments.length;i++){
			var left = comments[i]["opinion"]["left"];
			var top = comments[i]["opinion"]["top"];
			var id = comments[i]["id"];
			var slideIndex = comments[i]["slideIndex"];
			if(slideIndex != "undefined"){
				slideIdAndFormId[slideIndex]=id;
			}
			createComment(left,top,true);
		}
	}
}